{% extends 'blog/base_blog.html' %}

{% block blog_content %}
  <h1 class="mb-4">
    {% if object %}Редактирование{% else %}Новая запись{% endif %}
  </h1>
  
  <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    <div class="mb-3">
      {{ form.title.label_tag }}
      {{ form.title }}
      <div class="invalid-feedback">Укажите заголовок.</div>
    </div>
    <div class="mb-3">
      {{ form.content.label_tag }}
      {{ form.content }}
    </div>
    <div class="mb-3">
      {{ form.preview.label_tag }}
      {{ form.preview }}
    </div>
    <div class="mb-3 form-check">
      {{ form.is_published }}
      {{ form.is_published.label_tag }}
    </div>
    <button type="submit" class="btn btn-primary">Сохранить</button>
    <a href="{% url 'blog:post_list' %}" class="btn btn-outline-secondary">Отмена</a>
  </form>
{% endblock %}