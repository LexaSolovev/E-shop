{% extends 'catalog/base.html' %}

{% block content %}
<div class="container py-5">
  <div class="row">
    <div class="col-md-6">
      {% if product.image %}
      <img src="{{ product.image.url }}" class="img-fluid rounded shadow-sm" alt="{{ product.name }}">
      {% else %}
      <svg class="bd-placeholder-img card-img-top" width="100%" height="500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Нет изображения" preserveAspectRatio="xMidYMid slice" focusable="false">
        <title>Нет изображения</title>
        <rect width="100%" height="100%" fill="#55595c"></rect>
        <text x="50%" y="50%" fill="#eceeef" dy=".3em">Нет изображения</text>
      </svg>
      {% endif %}
    </div>
    <div class="col-md-6">
      <h1 class="display-5 fw-bold">{{ product.name }}</h1>
      <h3 class="text-body-emphasis">{{ product.price }} ₽</h3>
      <p class="lead">{{ product.description }}</p>
      <div class="d-flex gap-2">
        <a href="{% url 'catalog:product_list' %}" class="btn btn-secondary">← Назад</a>
        <a href="{% url 'catalog:product_update' product.pk %}" class="btn btn-warning">Редактировать</a>
        {% if perms.catalog.can_unpublish_product and product.is_published %}
        <a href="{% url 'catalog:unpublish_product' product.pk %}" class="btn btn-warning">
          Снять с публикации
        </a>
        {% endif %}

        {% if perms.catalog.delete_product %}
        <a href="{% url 'catalog:product_delete' product.pk %}" class="btn btn-danger">
          Удалить
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}